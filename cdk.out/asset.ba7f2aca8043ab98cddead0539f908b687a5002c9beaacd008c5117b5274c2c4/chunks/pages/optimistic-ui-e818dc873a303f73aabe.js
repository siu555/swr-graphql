_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{ZffL:function(t,r,e){"use strict";function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function a(t,r){if(t){if("string"===typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}function o(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return e}}(t,r)||a(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.r(r),e.d(r,"default",(function(){return E}));var u,s=e("o0o1"),c=e.n(s),f=e("HaE+"),p=e("nKUr"),d=e("q1tI"),l=e.n(d),y=e("VtrM"),b=e("xdlO"),m=new Uint8Array(16);function h(){if(!u&&!(u="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(m)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var j=function(t){return"string"===typeof t&&v.test(t)},w=[],g=0;g<256;++g)w.push((g+256).toString(16).substr(1));var O=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(w[t[r+0]]+w[t[r+1]]+w[t[r+2]]+w[t[r+3]]+"-"+w[t[r+4]]+w[t[r+5]]+"-"+w[t[r+6]]+w[t[r+7]]+"-"+w[t[r+8]]+w[t[r+9]]+"-"+w[t[r+10]]+w[t[r+11]]+w[t[r+12]]+w[t[r+13]]+w[t[r+14]]+w[t[r+15]]).toLowerCase();if(!j(e))throw TypeError("Stringified UUID is invalid");return e};var x=function(t,r,e){var n=(t=t||{}).random||(t.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){e=e||0;for(var a=0;a<16;++a)r[e+a]=n[a];return r}return O(n)},S={query:"query { users(limit: 10, order_by: {created_at: desc}) { id name } }"},_=function(){var t=Object(f.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)(S);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function E(){var t=i(l.a.useState(""),2),r=t[0],e=t[1],n=Object(y.a)(S,_).data;function a(){return(a=Object(f.a)(c.a.mark((function t(a){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),Object(y.b)(S,{users:[].concat(o(n.users),[{id:x(),name:r}])},!1),i={query:"mutation users($name: String!) { insert_users(objects: [{name: $name}]) { affected_rows } }",variables:{name:r}},t.next=5,Object(b.a)(i);case 5:Object(y.c)(i),e("");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Insert a new user"}),Object(p.jsxs)("form",{onSubmit:function(t){return a.apply(this,arguments)},children:[Object(p.jsx)("input",{type:"text",onChange:function(t){return e(t.target.value)},value:r}),Object(p.jsx)("button",{children:"Create"})]}),Object(p.jsx)("ul",{children:n?n.users.map((function(t){return Object(p.jsx)("li",{children:t.name},t.id)})):"loading..."})]})}},sXh9:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/optimistic-ui",function(){return e("ZffL")}])},xdlO:function(t,r,e){"use strict";var n=e("o0o1"),a=e.n(n),o=e("HaE+"),i={"Content-Type":"application/json","x-hasura-admin-secret":"2c3SYWnx7K1hbCEoAXgnD7A9Tzu3KIHM2XXqRMp0m52ywqrA80NkEaShEwPELyNU"},u=function(){var t=Object(o.a)(a.a.mark((function t(){var r,e,n,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:i,method:"POST",body:JSON.stringify(o.length<=0?void 0:o[0])},t.next=3,fetch("https://intimate-cub-67.hasura.app/v1/graphql",r);case 3:return e=t.sent,t.next=6,e.json();case 6:if(!(n=t.sent).errors){t.next=9;break}throw JSON.stringify(n.errors);case 9:return t.abrupt("return",n.data);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r.a=u}},[["sXh9",0,2,1,4]]]);